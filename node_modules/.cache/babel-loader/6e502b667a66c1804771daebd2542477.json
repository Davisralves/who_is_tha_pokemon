{"ast":null,"code":"var _jsxFileName = \"/root/github/meu_repositorio/who_is_tha_pokemon/src/components/Pokedex.tsx\",\n    _s = $RefreshSig$();\n\nimport PokedexHeader from \"./PokedexHeader\";\nimport PokemonCard from \"./PokemonCard\";\nimport { useLocation } from \"react-router-dom\";\nimport \"../css/pokedex.css\";\nimport { useState } from \"react\";\nimport { deletePokemon } from \"../services/index\";\nimport CreatePokemon from \"./CreatePokemon\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst removeArrayItemByName = (name, array) => {\n  const index = array.findIndex(pokemon => pokemon.name === name);\n  array.splice(index, 1);\n};\n\nexport default function Pokedex() {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [editTable, setEditTable] = useState(false);\n  const [ownDataBase, setOwnDataBase] = useState(true);\n  const [input, setInput] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [selectedPokemon, selectPokemon] = useState(\"\");\n\n  const getPokemonByName = () => {\n    return pokemons.find(pokemon => pokemon.name.includes(selectedPokemon));\n  };\n\n  const handleChange = event => {\n    setInput(event.target.value);\n  };\n\n  const handleSelect = () => {\n    const filteredPokemons = pokemons.filter(pokemons => pokemons.name.includes(input));\n\n    if (filteredPokemons.length === 1) {\n      setMessage(\"Selected !\");\n      return selectPokemon(filteredPokemons[0].name);\n    }\n\n    return setMessage(\"Have more than one pokemon in list. Please type the complete name\");\n  };\n\n  const handleDelete = async () => {\n    if (selectedPokemon === \"\") {\n      return setMessage(\"A pokemon must be Selected first\");\n    } else {\n      setMessage(\"Deleting...\");\n      const deletedPokemon = await deletePokemon(selectedPokemon);\n\n      if (deletedPokemon) {\n        setMessage(`Pokemon ${deletedPokemon.name} was deleted`);\n        removeArrayItemByName(deletedPokemon.name, pokemons);\n        return selectPokemon(\"\");\n      }\n\n      return setMessage(\"Cannot delete pokemon.\");\n    }\n  };\n\n  const handleEdit = () => {\n    if (selectedPokemon === \"\") {\n      return setMessage(\"A pokemon must be Selected first\");\n    }\n\n    setEditTable(true);\n  };\n\n  const location = useLocation();\n  const {\n    state: {\n      pokemons\n    }\n  } = location;\n\n  if (pokemons.length > 2 && loading) {\n    setLoading(false);\n  }\n\n  const myPokemons = pokemons.map((pokemon, index) => pokemon.name.includes(input) ? /*#__PURE__*/_jsxDEV(PokemonCard, {\n    pokemon: pokemon,\n    selected: pokemon.name === selectedPokemon\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 4\n  }, this) : \"\");\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"pokedex\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Pokedex\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PokedexHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"default-yellow-case\",\n      htmlFor: \"pokemonInput\",\n      children: \"Search:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"submit-input\",\n      type: \"text\",\n      onChange: e => handleChange(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"submitButton\",\n      onClick: handleSelect,\n      children: \" Select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"submitButton\",\n      onClick: handleDelete,\n      children: \" Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"submitButton\",\n      onClick: handleEdit,\n      children: \" Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setOwnDataBase(e.target.value === \"true\"),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"true\",\n        children: \"My Pokemons\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"false\",\n        children: \"Search New\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pokedex-main-section\",\n      children: editTable ? /*#__PURE__*/_jsxDEV(CreatePokemon, {\n        pokemon: getPokemonByName(),\n        setEditTable: setEditTable,\n        pokemons: pokemons\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 6\n      }, this) : myPokemons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Pokedex, \"AJ4fEq0SV6Wyn0bEx8WGqWZHs/E=\", false, function () {\n  return [useLocation];\n});\n\n_c = Pokedex;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pokedex\");","map":{"version":3,"sources":["/root/github/meu_repositorio/who_is_tha_pokemon/src/components/Pokedex.tsx"],"names":["PokedexHeader","PokemonCard","useLocation","useState","deletePokemon","CreatePokemon","removeArrayItemByName","name","array","index","findIndex","pokemon","splice","Pokedex","loading","setLoading","editTable","setEditTable","ownDataBase","setOwnDataBase","input","setInput","message","setMessage","selectedPokemon","selectPokemon","getPokemonByName","pokemons","find","includes","handleChange","event","target","value","handleSelect","filteredPokemons","filter","length","handleDelete","deletedPokemon","handleEdit","location","state","myPokemons","map","e"],"mappings":"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","sourcesContent":["import { IpokemonObject, IpokemonObjects } from \"../interfaces/Pokemons\";\nimport PokedexHeader from \"./PokedexHeader\";\nimport PokemonCard from \"./PokemonCard\";\nimport { useLocation } from \"react-router-dom\";\nimport \"../css/pokedex.css\";\nimport { useState } from \"react\";\nimport { deletePokemon } from \"../services/index\";\nimport CreatePokemon from \"./CreatePokemon\";\n\ntype pokemonLocation = {\n\tstate: {\n\t\tpokemons: IpokemonObjects;\n\t};\n};\n\nconst removeArrayItemByName = (name: string, array: IpokemonObjects) => {\n\tconst index = array.findIndex((pokemon) => pokemon.name === name);\n\tarray.splice(index, 1);\n};\n\nexport default function Pokedex() {\n\tconst [loading, setLoading] = useState(true);\n\tconst [editTable, setEditTable] = useState(false);\n\tconst [ownDataBase, setOwnDataBase] = useState(true);\n\tconst [input, setInput] = useState(\"\");\n\tconst [message, setMessage] = useState(\"\");\n\tconst [selectedPokemon, selectPokemon] = useState(\"\");\n\n\tconst getPokemonByName = (): IpokemonObject => {\n\t\treturn pokemons.find((pokemon) =>\n\t\t\tpokemon.name.includes(selectedPokemon)\n\t\t) as IpokemonObject;\n\t};\n\n\tconst handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetInput(event.target.value);\n\t};\n\n\tconst handleSelect = () => {\n\t\tconst filteredPokemons = pokemons.filter((pokemons) =>\n\t\t\tpokemons.name.includes(input)\n\t\t);\n\t\tif (filteredPokemons.length === 1) {\n\t\t\tsetMessage(\"Selected !\");\n\t\t\treturn selectPokemon(filteredPokemons[0].name);\n\t\t}\n\t\treturn setMessage(\n\t\t\t\"Have more than one pokemon in list. Please type the complete name\"\n\t\t);\n\t};\n\n\tconst handleDelete = async () => {\n\t\tif (selectedPokemon === \"\") {\n\t\t\treturn setMessage(\"A pokemon must be Selected first\");\n\t\t} else {\n\t\t\tsetMessage(\"Deleting...\");\n\t\t\tconst deletedPokemon = (await deletePokemon(\n\t\t\t\tselectedPokemon\n\t\t\t)) as IpokemonObject;\n\t\t\tif (deletedPokemon) {\n\t\t\t\tsetMessage(`Pokemon ${deletedPokemon.name} was deleted`);\n\t\t\t\tremoveArrayItemByName(deletedPokemon.name, pokemons);\n\t\t\t\treturn selectPokemon(\"\");\n\t\t\t}\n\t\t\treturn setMessage(\"Cannot delete pokemon.\");\n\t\t}\n\t};\n\n\tconst handleEdit = () => {\n\t\tif (selectedPokemon === \"\") {\n\t\t\treturn setMessage(\"A pokemon must be Selected first\");\n\t\t}\n\t\tsetEditTable(true);\n\t};\n\n\tconst location = useLocation();\n\tconst {\n\t\tstate: { pokemons },\n\t} = location as pokemonLocation;\n\tif (pokemons.length > 2 && loading) {\n\t\tsetLoading(false);\n\t}\n\n\tconst myPokemons = pokemons.map((pokemon: IpokemonObject, index: number) =>\n\t\tpokemon.name.includes(input) ? (\n\t\t\t<PokemonCard\n\t\t\t\tpokemon={pokemon}\n\t\t\t\tkey={index}\n\t\t\t\tselected={pokemon.name === selectedPokemon}\n\t\t\t/>\n\t\t) : (\n\t\t\t\"\"\n\t\t)\n\t);\n\n\treturn (\n\t\t<main className=\"pokedex\">\n\t\t\t<h1 className=\"title\">Pokedex</h1>\n\t\t\t<PokedexHeader />\n\t\t\t<br />\n\t\t\t<label className=\"default-yellow-case\" htmlFor=\"pokemonInput\">\n\t\t\t\tSearch:\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tclassName=\"submit-input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t/>\n\t\t\t<button className=\"submitButton\" onClick={handleSelect}> Select</button>\n\t\t\t<button className=\"submitButton\" onClick={handleDelete}> Delete</button>\n\t\t\t<button className=\"submitButton\" onClick={handleEdit}> Edit</button>\n\t\t\t{/* <button onClick={handleEdit}> Save</button> */}\n\t\t\t<select onChange={(e) => setOwnDataBase(e.target.value === \"true\")}>\n\t\t\t\t<option value={\"true\"}>My Pokemons</option>\n\t\t\t\t<option value={\"false\"}>Search New</option>\n\t\t\t</select>\n\t\t\t<h5>{message}</h5>\n\t\t\t<section className=\"pokedex-main-section\">\n\t\t\t\t{editTable ? (\n\t\t\t\t\t<CreatePokemon\n\t\t\t\t\t\tpokemon={getPokemonByName()}\n\t\t\t\t\t\tsetEditTable={setEditTable}\n\t\t\t\t\t\tpokemons={pokemons}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\tmyPokemons\n\t\t\t\t)}\n\t\t\t</section>\n\t\t</main>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}